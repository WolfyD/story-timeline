/**
 * Legacy Mapping CSS
 * 
 * This file maps existing CSS classes and elements to use the unified design system.
 * It provides backward compatibility while transitioning to the new design system.
 */

/* =============================================================================
   AUTOMATIC FORM ELEMENT MAPPING
   ============================================================================= */

/* Map all form elements to use design system styling */
input[type="text"],
input[type="number"], 
input[type="email"],
input[type="password"],
input[type="search"],
textarea,
select {
    padding: var(--space-sm) var(--space-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
    font-family: inherit;
    background: var(--color-bg-white);
    color: var(--color-text-primary);
    transition: all var(--transition-base);
}

input[type="text"]:focus,
input[type="number"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="search"]:focus,
textarea:focus,
select:focus {
    outline: none;
    border-color: var(--color-focus);
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
}

input[type="text"]:disabled,
input[type="number"]:disabled,
input[type="email"]:disabled,
input[type="password"]:disabled,
textarea:disabled,
select:disabled {
    background: var(--color-bg-secondary);
    color: var(--color-text-disabled);
    cursor: not-allowed;
}

input[type="text"]::placeholder,
input[type="email"]::placeholder,
input[type="password"]::placeholder,
input[type="search"]::placeholder,
textarea::placeholder {
    color: var(--color-text-muted);
}

/* =============================================================================
   BUTTON MAPPING
   ============================================================================= */

/* Map common button classes to design system */
button[type="submit"],
.submit-button,
.primary-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-lg);
    background: var(--color-primary);
    color: var(--color-text-inverse);
    border: none;
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
    text-decoration: none;
}

button[type="submit"]:hover,
.submit-button:hover,
.primary-button:hover {
    background: var(--color-primary-light);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.button-debug,
.debug-button,
.secondary-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-lg);
    background: var(--color-secondary);
    color: var(--color-text-inverse);
    border: none;
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
    text-decoration: none;
}

.button-debug:hover,
.debug-button:hover,
.secondary-button:hover {
    background: var(--color-secondary-light);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.close-button,
.cancel-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-xs) var(--space-md);
    background: transparent;
    color: var(--color-text-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-base);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
}

.close-button:hover,
.cancel-button:hover {
    background: var(--color-bg-overlay);
    border-color: var(--color-border-dark);
    color: var(--color-text-primary);
}

/* Error and success buttons */
.error-button,
.delete-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-lg);
    background: var(--color-error);
    color: white;
    border: none;
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
}

.error-button:hover,
.delete-button:hover {
    background: #c82333;
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.success-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-lg);
    background: var(--color-success);
    color: white;
    border: none;
    border-radius: var(--radius-base);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
}

.success-button:hover {
    background: #218838;
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

/* =============================================================================
   FORM LAYOUT MAPPING
   ============================================================================= */

.form-group {
    margin-bottom: var(--space-lg);
}

.form-line {
    margin-bottom: var(--space-md);
}

.form-row {
    display: flex;
    gap: var(--space-md);
    align-items: center;
}

/* =============================================================================
   COLOR UPDATES FOR COMMON PATTERNS
   ============================================================================= */

/* Replace hardcoded colors in common patterns */
*[style*="#4b2e2e"] { color: var(--color-text-primary) !important; }
*[style*="#6b5b4b"] { color: var(--color-text-secondary) !important; }
*[style*="#8b7355"] { color: var(--color-text-muted) !important; }
*[style*="#f5e6d4"] { background-color: var(--color-bg-primary) !important; }
*[style*="#f9f5ed"] { background-color: var(--color-bg-secondary) !important; }
*[style*="#fff8ef"] { background-color: var(--color-bg-tertiary) !important; }

/* =============================================================================
   SPACING HELPERS FOR COMMON PATTERNS
   ============================================================================= */

.space-above { margin-top: var(--space-md); }
.space-below { margin-bottom: var(--space-md); }
.space-left { margin-left: var(--space-md); }
.space-right { margin-right: var(--space-md); }

.padding-all { padding: var(--space-md); }
.padding-horizontal { padding-left: var(--space-md); padding-right: var(--space-md); }
.padding-vertical { padding-top: var(--space-md); padding-bottom: var(--space-md); }

/* =============================================================================
   COMMON COMPONENT IMPROVEMENTS
   ============================================================================= */

/* Improve focus visibility across all interactive elements */
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
a:focus-visible {
    outline: 2px solid var(--color-focus);
    outline-offset: 2px;
}

/* Consistent border radius for containers */
.container,
.panel,
.card,
.modal {
    border-radius: var(--radius-lg);
}

/* Consistent shadows for elevated elements */
.elevated {
    box-shadow: var(--shadow-md);
}

.elevated:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-1px);
}

/* =============================================================================
   ACCESSIBILITY IMPROVEMENTS
   ============================================================================= */

/* Ensure sufficient color contrast */
.text-contrast {
    color: var(--color-text-primary);
    background: var(--color-bg-white);
}

/* Improved hover and focus states */
.interactive:hover {
    background: var(--color-bg-overlay);
    transition: all var(--transition-base);
}

.interactive:focus {
    background: var(--color-bg-overlay);
    outline: 2px solid var(--color-focus);
    outline-offset: 2px;
}

/* =============================================================================
   TYPOGRAPHY IMPROVEMENTS
   ============================================================================= */

/* Consistent heading scales */
h1 { font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); color: var(--color-text-primary); }
h2 { font-size: var(--font-size-2xl); font-weight: var(--font-weight-semibold); color: var(--color-text-primary); }
h3 { font-size: var(--font-size-xl); font-weight: var(--font-weight-semibold); color: var(--color-text-primary); }
h4 { font-size: var(--font-size-lg); font-weight: var(--font-weight-medium); color: var(--color-text-primary); }
h5 { font-size: var(--font-size-md); font-weight: var(--font-weight-medium); color: var(--color-text-primary); }
h6 { font-size: var(--font-size-base); font-weight: var(--font-weight-medium); color: var(--color-text-primary); }

/* Consistent paragraph styling */
p {
    color: var(--color-text-primary);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-md);
}

/* Consistent link styling */
a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color var(--transition-base);
}

a:hover {
    color: var(--color-primary-light);
    text-decoration: underline;
}

/* =============================================================================
   RESPONSIVE OVERRIDES
   ============================================================================= */

@media (max-width: 768px) {
    .form-row {
        flex-direction: column;
        align-items: stretch;
    }
    
    button,
    .btn {
        width: 100%;
        justify-content: center;
    }
    
    .form-group {
        margin-bottom: var(--space-md);
    }
} 